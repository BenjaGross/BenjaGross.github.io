<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[The Blog Ben Writes]]></title>
  <link href="http://benjagross.github.io/atom.xml" rel="self"/>
  <link href="http://benjagross.github.io/"/>
  <updated>2016-02-22T13:09:25-05:00</updated>
  <id>http://benjagross.github.io/</id>
  <author>
    <name><![CDATA[Ben Gross]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[About Trie-ing (Part 1)]]></title>
    <link href="http://benjagross.github.io/blog/2016/02/19/about-trie-ing/"/>
    <updated>2016-02-19T10:57:20-05:00</updated>
    <id>http://benjagross.github.io/blog/2016/02/19/about-trie-ing</id>
    <content type="html"><![CDATA[<p>I recently had the chance to work on a problem involving string pattern matching. One of my favorite aspects of programming is solving these sorts of algorithmic puzzles so I quite enjoyed working on this problem.</p>

<p>After working out my first solution involving lots of nested loops I decided to research a bit I came accross the <a href="https://en.wikipedia.org/wiki/Trie">Trie data structure</a>. A trie can look very similar to a regular binary search tree as seen below (<em>Trie:</em> left <em>Binary Tree:</em> right) however there a few key differences.</p>

<div style="text-align:center"><img src ="https://raw.githubusercontent.com/BenjaGross/BenjaGross.github.io/master/images/trie_bst_comp.png"></div>


<p>Although tries use a tree like structure they are different from a normal binary search trees for several reasons.</p>

<ul>
<li><p>Each descendent of a node all share a common prefix like &ldquo;i&rdquo; for  &ldquo;in&rdquo; and &ldquo;inn&rdquo; in the above example. Because of this tries are often called &ldquo;Prefix Trees&rdquo;</p></li>
<li><p>No node in the trie stores any key associated with that particular node, instead the location of the node in the tree defines what key with which each node is associated.</p></li>
</ul>


<p>So now that we know that a trie is sufficently different from a regular binary search tree</p>

<h4>Benefits</h4>

<ul>
<li>Looking up data in a trie is faster than looking up data in an imperfect hash table ( O(m) with m being the length of the search string vs. O(N) )

<ul>
<li>An imperfect hash table is one with key collisions, instances in which the hash function maps different keys to the same position in a hash</li>
<li>Take a look at <a href="https://en.wikipedia.org/wiki/Hash_table#Collision_resolution">here</a> to see why this is a problem in hashe&rsquo;s and how they get around it</li>
</ul>
</li>
<li>A trie will not contain any key colisions</li>
<li>Trie Buckets are only necessary if there are multiple values associated with the same key</li>
<li>Adding and deleting items from a trie is simple</li>
</ul>


<h4>Drawbacks</h4>

<ul>
<li>Trie lookups can take a longer time if the trie is stored on a hard disk and not in virtual memory</li>
<li>Some tries require more space than equivelent hash tables</li>
<li>Certain keys, like foating point numbers, do not provide much meaning and must be used with the <a href="https://en.wikipedia.org/wiki/Trie#Bitwise_tries">Bitwise Trie implementation</a></li>
</ul>


<h3>So Why a Trie?</h3>

<p>Tries are great for matching full and parital string patterns and can be used for predictive text, autocomplete, and even spell check. The matching algorithm is so good in a trie because the strings are organized by prefix, so a large amount of potentially searchable data can be safely ignored with just the first letter of a search term.</p>

<p>Given a trie matching function <code>trie.match("tea")</code> on the below trie(same as above but represented differently) only branches with the parent prefix &ldquo;t&rdquo; will be searched, which safely eliminates anything without that prefix.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>{:root=&gt;
</span><span class='line'>  {"t"=&gt;
</span><span class='line'>    {true=&gt;{},
</span><span class='line'>     "o"=&gt;{true=&gt;{}},
</span><span class='line'>     "e"=&gt;{true=&gt;{}, "a"=&gt;{true=&gt;{}}, "d"=&gt;{true=&gt;{}}, "n"=&gt;{true=&gt;{}}}},
</span><span class='line'>   "A"=&gt;{true=&gt;{}},
</span><span class='line'>   "i"=&gt;{true=&gt;{}, "n"=&gt;{true=&gt;{}, "n"=&gt;{true=&gt;{}}}}}}</span></code></pre></td></tr></table></div></figure>


<h3>Implementaions</h3>

<p>In my next post I will build a simple trie implementation in Ruby.</p>

<p>Alternatively, if you cannot wait you can use the <a href="https://github.com/tyler/trie">Trie Gem</a>, one of the many <a href="https://www.npmjs.com/browse/keyword/trie">Node packages</a>, or whatever library you find best.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[About Using Jasmine]]></title>
    <link href="http://benjagross.github.io/blog/2015/12/19/about-using-jasmine/"/>
    <updated>2015-12-19T13:24:25-05:00</updated>
    <id>http://benjagross.github.io/blog/2015/12/19/about-using-jasmine</id>
    <content type="html"><![CDATA[<p>I have been working on a Backbone.js project for a few days now and while it has been great I came accross one very annoying issue. After getting my environment set up, a quick hello world out of the way, and some Jasmine tests written I opened up my terminal and stared blankly for a few minutes before it hit methat I didn&rsquo;t know how to run them Jasmine tests. I had the proper source files and dependencies but just didn&rsquo;t know how to actually run my tests.</p>

<p>After looking on google for a while I decided to refactor my test suite use the <a href="https://github.com/jasmine/jasmine/releases">Jasmine Standalone release</a> which I would have done originally had I not expected the the testing suite to just work, like it does in rails.</p>

<p>I download the standalone bundle and was able to pull the necessary source files into my project&rsquo;s directory, set up an <code>index.html</code> in my spec directory, and began to require all the relevant scripts. At that point I decided I wanted a better way. I talked to some friends and was told that I should just use the <a href="https://github.com/jasmine/jasmine-gem">Jasmine Gem</a>. Since I had only used this gem with with Rails and gems-in-general with Ruby I didn&rsquo;t think to use it for a strictly JavaScript project.</p>

<p>Using the Jasmine gem is extremely simple if you have a Ruby environment set up on  your computer. Once you install the gem just navigate to the root of your project and type these two commands:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>jasmine init
</span><span class='line'>jasmine examples
</span></code></pre></td></tr></table></div></figure>


<p>If this is done properly you will get a notice saying &ldquo;Jasmine has been installed&rdquo; and instructions to run the server with the command <code>rake jasmine</code> and that you can run the automated CI tasks with PhantomJS by calling <code>rake jasmine::ci</code>.</p>

<p>More specifically <code>jasmine init</code> will add the following files and directories to your project.</p>

<ul>
<li><code>spec</code> will contain all of your spec files and spec specific requirements</li>
<li><code>spec/javascripts</code> which holds

<ul>
<li><code>helpers</code> an empty directory you will later use for helper scripts (<code>jasmine examples</code> will add one)</li>
<li><code>support</code> holding <code>jasmine.yml</code> which will handle your requirements and <code>jasmine.helper.rb</code> where you can override and default configuration options like the port numbers</li>
</ul>
</li>
<li><code>rakefile</code> which by default will require the jasmine rake tasks for starting the testing server and more but can be used to write more tasks</li>
</ul>


<p><code>jasmine examples</code> will add more directories and files to your project that you can use as a boilerplate for building your own tests. It will install:</p>

<ul>
<li><code>spec/helpers/jasmine_examples/spec_helper.js</code> a file you can use for setting up callbacks for your tests</li>
<li><code>spec/jasmine_examples/PlayerSpec.js</code> an example spec file for <code>Player</code></li>
<li><code>public</code>a directory contianing two JavaScript objects that are tested by <code>PlayerSpec.js</code></li>
</ul>


<p>Now, if you type <code>rake jasmine</code> and visit <a href="http://localhost:8888/">http://localhost:8888/</a> (the default port for the python server you launch with <code>rake jasmine</code>) you will see the passing tests for <code>PlayerSpec.js</code>.</p>

<p>Now that we have the dummy tests running we can set up the requirements for dependencies in <code>jasmine.yml</code>. This file contains comments telling you where to require what and it already has everything you need to run the tests generated by <code>jasmine examples</code> and any tests that you write in the spec directory the gem builds however, if if you are using anything other than vanilla JavaScript like I was, you will need to manually require some files. You can use wildecards and regex to require specific groups of files in directories (e.g. <code>js/**/*.js</code> will require in all javascript files in all child directories directly nested under the <code>js</code> directory) however this may not load scripts in the order that you need so it will still be necessary to require certain files manually. For example, if you are using backbone <code>lib/underscore.js</code> will need to be required before <code>lib/backbone.js</code> manually even if you have <code>lib/*.js</code> the <code>src_files</code> section of <code>jasmine.yml</code>.</p>

<p>If some of your tests aren&rsquo;t working and you think that some files aren&rsquo;t being required properly you can manually check the page by running the server (<code>rake jasmine</code>) and opening the console to see what isn&rsquo;t being loaded properly. If there are errors in your files they will show up in the console. Since it is JavaScript it runs in the browser and all of the files you need for testing should be there.</p>

<p>This is not the most difficult thing in the world, and frankly, if you are using anything like yeoman or are adept at bower you will probably not need this, but if you want to bring some jasmine tests into a small application without much overhead I found this gem to be a great solution.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[About Ruby Proxy Class]]></title>
    <link href="http://benjagross.github.io/blog/2015/03/05/about-ruby-proxy-class/"/>
    <updated>2015-03-05T14:12:04-05:00</updated>
    <id>http://benjagross.github.io/blog/2015/03/05/about-ruby-proxy-class</id>
    <content type="html"><![CDATA[<p>It&rsquo;s not so amazing how life always seems to keep just slightly away from writing, but not recently! So here is a post about Proxy Classes in Ruby.</p>

<p>I came accross the topic while going through the <a href="http://rubykoans.com/">Ruby Koans</a> this morning and since I had never heard of this pattern before I thought, &ldquo;Let&rsquo;s get writing!&rdquo;</p>

<h3>What is a Proxy Class?</h3>

<p>Proxy Class is a code pattern in Ruby and is simply using a class to interface with something else(It is completely important to note that this is different from <a href="http://docs.oracle.com/javase/tutorial/java/concepts/interface.html">Java Interfaces</a> which I will not talk about here). In Ruby, it helps me to think of the proxy class pattern as a technique to create wrappers for other classes that can add new functionality and/or change normal functionality.</p>

<h3>Why Use This Pattern?</h3>

<p>If you read the above description, and thought, &ldquo;Sure&rdquo; then you can just skip to the examples. If not, you probably want to know why you might do this. You can use this pattern to add your own functionality to a class you created to give it different functions in certain circumstances or more likely to change a standard Ruby class, like array, without <a href="http://en.wikipedia.org/wiki/Monkey_patch">monkey patching</a> the class and creating potential problems with your code. If you are looking for examples you you don&rsquo;t need to get very obscure. <a href="https://github.com/rails/rails/tree/master/activerecord">Active Record</a> use this pattern to design their associations!</p>

<p>If you would like a more simple example however In the below code we set up the a Proxy Class for an array of names.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">class</span> <span class="nc">NamesProxyArray</span>
</span><span class='line'>  <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>
</span><span class='line'>    <span class="vi">@arr</span> <span class="o">=</span> <span class="n">arr</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="kp">private</span>
</span><span class='line'>    <span class="k">def</span> <span class="nf">method_missing</span><span class="p">(</span><span class="nb">method</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">block</span><span class="p">)</span>
</span><span class='line'>      <span class="vi">@arr</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="nb">method</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">block</span><span class="p">)</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="n">special_array</span> <span class="o">=</span> <span class="no">NamesProxyArray</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="sx">%w[Alex Birtha Christopher Mark Thomas Sally Jessica Steve]</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="n">special_array</span><span class="o">.</span><span class="n">size</span> <span class="c1">#=&gt; 8</span>
</span><span class='line'><span class="n">special_array</span><span class="o">.</span><span class="n">shuffle</span> <span class="c1">#=&gt; [&quot;Thomas&quot;, &quot;Christopher&quot;, &quot;Steve&quot;, &quot;Sally&quot;, &quot;Jessica&quot;, &quot;Alex&quot;, &quot;Birtha&quot;, &quot;Mark&quot;] </span>
</span></code></pre></td></tr></table></div></figure>


<p></p>

<p>Above, we recreate the functionality of Ruby Array by redefining method_missing. We use the <code>send</code> method to take any method unknown to the NamesProxyArray in this case <code>size</code> and <code>shuffle</code> and call them on the array object that is in this instance of Proxy Class we made. This is the cornerstone for setting up our proxy. After hijacking into method_missing, any method that we don&rsquo;t define or that is not part of the default Ruby Class Object will be called on Array instead of NamesProxyArray.</p>

<p>Now that we have access to the regular Array methods we can start to add new functionality. In the below code we will redefine the shuffle method and add a new method called get_first_letter.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">class</span> <span class="nc">NamesProxyArray</span>
</span><span class='line'>  <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>
</span><span class='line'>    <span class="vi">@arr</span> <span class="o">=</span> <span class="n">arr</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">def</span> <span class="nf">shuffle</span>
</span><span class='line'>    <span class="vi">@arr</span><span class="o">.</span><span class="n">map</span> <span class="k">do</span> <span class="o">|</span><span class="n">item</span><span class="o">|</span>
</span><span class='line'>      <span class="n">item</span><span class="o">.</span><span class="n">chars</span><span class="o">.</span><span class="n">shuffle</span><span class="o">.</span><span class="n">join</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">def</span> <span class="nf">get_first_letter</span>
</span><span class='line'>    <span class="vi">@arr</span><span class="o">.</span><span class="n">map</span> <span class="k">do</span> <span class="o">|</span><span class="n">item</span><span class="o">|</span>
</span><span class='line'>      <span class="n">item</span><span class="o">.</span><span class="n">chars</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="kp">private</span>
</span><span class='line'>    <span class="k">def</span> <span class="nf">method_missing</span><span class="p">(</span><span class="nb">method</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">block</span><span class="p">)</span>
</span><span class='line'>      <span class="vi">@arr</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="nb">method</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">block</span><span class="p">)</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="n">special_array</span> <span class="o">=</span> <span class="no">NamesProxyArray</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="sx">%w[Alex Birtha Christopher Mark Thomas Sally Jessica Steve]</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="n">special_array</span><span class="o">.</span><span class="n">size</span> <span class="c1">#=&gt; 8</span>
</span><span class='line'><span class="n">special_array</span><span class="o">.</span><span class="n">shuffle</span> <span class="c1">#=&gt; [&quot;Axel&quot;, &quot;hiartB&quot;, &quot;iCsrtrhpoeh&quot;, &quot;Mrka&quot;, &quot;osmaTh&quot;, &quot;lylaS&quot;, &quot;eJssaci&quot;, &quot;etvSe&quot;]</span>
</span><span class='line'><span class="n">special_array</span><span class="o">.</span><span class="n">get_first_letter</span> <span class="c1">#=&gt; [&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;M&quot;, &quot;T&quot;, &quot;S&quot;, &quot;J&quot;, &quot;S&quot;]</span>
</span></code></pre></td></tr></table></div></figure>


<p>
Now we have two new methods! A redefined shuffle and a new <code>get_first_letter</code>. By defining shuffle in NamesProxyArray <code>method_missing</code> is not longer called and the method is evaluated in our Proxy Class instance and we don&rsquo;t have to worry about breaking <code>shuffle</code> any where else in our code. <code>get_first_letter</code> works like any other instance method and any standard array method like <code>size</code>, as long as they are undefined in ProxyClass still get evaluated on the regualar Array class. All this happens without having to modify the class Array at all!</p>

<p>Ruby&rsquo;s Proxy Class pattern can be used to really make your code your own. You can modify any of the standard ruby objects to work your way without actually changing them! Additionally it helped me to get more comfortable using patterns in my day to day code.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[About Class_eval and Instance_eval]]></title>
    <link href="http://benjagross.github.io/blog/2015/01/29/about-class-eval-and-instance-eval/"/>
    <updated>2015-01-29T11:40:19-05:00</updated>
    <id>http://benjagross.github.io/blog/2015/01/29/about-class-eval-and-instance-eval</id>
    <content type="html"><![CDATA[<p>This afternoon I took the time to reread my old blog&hellip;</p>

<p>I then took less time to delete the whole thing and restart it since if something is worth doing it is worth doing well.</p>

<p>For the first post in my new blog I will write about the Ruby methods: class_eval and instance_eval. I can think of no way more metaphorically flavorful of getting into a good headspace to write!</p>

<p>These methods are meta and a bit odd so to start, in plain English, class_eval lets a programmer evaluate code within the scope of a class and instance_eval lets a programmer evaluate code on a class object.</p>

<p>Here is how they look:</p>

<h3>class_eval</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">class</span> <span class="nc">Meal</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="n">breakfast</span> <span class="o">=</span> <span class="no">Meal</span><span class="o">.</span><span class="n">new</span>
</span><span class='line'><span class="n">breakfast</span><span class="o">.</span><span class="n">eat_pancakes</span> <span class="c1"># NoMethodError</span>
</span><span class='line'>
</span><span class='line'><span class="no">Meal</span><span class="o">.</span><span class="n">class_eval</span> <span class="k">do</span>
</span><span class='line'>  <span class="k">def</span> <span class="nf">eat_pancakes</span>
</span><span class='line'>    <span class="s2">&quot;Mmmmm Pancakes!&quot;</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="n">breakfast</span><span class="o">.</span><span class="n">eat_pancakes</span> <span class="c1"># &quot;Mmmmm Pancakes!&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<p>The first time we call <code>breakfast.eat_pancakes</code> we get a NoMethodError. <code>class Meal</code> is empty and this is what we expect. The second time it is called after we use class_eval to pass a block to the meal class defining the eat_pancakes method. We then get a return value of &ldquo;Mmmmm Pancakes!&rdquo;. We get this without changing the original code for the Meal class. We can use class_eval to add the an instance method to a class at any point in a program runtime!</p>

<h3>instance_eval</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">class</span> <span class="nc">Meal</span>
</span><span class='line'>  <span class="k">def</span> <span class="nf">eat_pancakes</span>
</span><span class='line'>    <span class="s2">&quot;Mmmmm Pancakes!&quot;</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="no">Meal</span><span class="o">.</span><span class="n">instance_eval</span> <span class="k">do</span>
</span><span class='line'>  <span class="k">def</span> <span class="nf">breakfast?</span>
</span><span class='line'>    <span class="kp">true</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="no">Meal</span><span class="o">.</span><span class="n">breakfast?</span> <span class="c1"># true</span>
</span></code></pre></td></tr></table></div></figure>


<p>In the above code <code>Meal.breakfast?</code> returns true after we use instance_eval to add the appropriate class method. This is where things get confusing. In the above example of class_eval we added the instance method <code>eat_pancakes</code> and in the example for instance_eval we added the class method <code>breakfast?</code>. So why are they not named the other way around?</p>

<ul>
<li>class_eval is a method from <a href="http://www.ruby-doc.org/core-2.2.0/Module.html">Ruby&rsquo;s Module Class</a> and thus acts on a module or class and evaluates the block it is pased in the scope of that class. Thus when we define a method in that scope with <code>def eat_pancakes</code> we create an instance method the same way we would had it been within the original class syntax.</li>
<li>instance_eval however is a method from <a href="http://ruby-doc.org/core-2.2.0/Object.html">Ruby&rsquo;s Object Class</a> and the block we pass to it is evaluated on the class object. Then when we write <code>def breakfast?</code> in the block it is evaluated on the class object and runs as a class method rather than in the class as an instance method!</li>
</ul>


<p>So you may look at these methods and think, &ldquo;Cool! But who cares?&rdquo; and that&rsquo;s probably fine, I only used instance_eval once and it was to change an initialize method to give class instances a different name depending on how they were created. While I quickly refactore this away I still think it was a fun way to solve the problem.</p>

<p>Moving forward will you use this method? If you are really into metaprogramming then yes, you probably will, but if not? Who cares, they fun methods to play with and can help you think about the ruby object model in a new way.</p>
]]></content>
  </entry>
  
</feed>
